{"doc":" 通知合并服务实现类\n\n @author: zzf\n","fields":[],"enumConstants":[],"methods":[{"name":"processNotificationMerge","paramTypes":["com.sinosoft.notice.domain.SysNotificationTemplate","com.sinosoft.notice.model.NotificationPayload","com.sinosoft.notice.domain.SysNotification","java.lang.Long"],"doc":" 处理通知合并（使用负载对象）\n\n @param template     通知模板\n @param payload      通知业务负载\n @param notification 待处理的通知\n @param userId       用户ID（可选，为空时按照权限规则匹配用户）\n @return 处理后的通知\n"},{"name":"getMergeStrategy","paramTypes":["com.sinosoft.notice.domain.SysNotificationTemplate","com.sinosoft.notice.model.NotificationPayload"],"doc":" 获取合并策略\n"},{"name":"getOrCreateMergeConfig","paramTypes":["java.lang.String"],"doc":" 获取或创建合并配置\n"},{"name":"calculateMergeWindowStart","paramTypes":["com.sinosoft.notice.domain.SysNotificationMergeConfig"],"doc":" 计算合并时间窗口起始时间\n"},{"name":"findExistingNotifications","paramTypes":["java.lang.String","java.lang.Long","com.sinosoft.notice.domain.SysNotificationMergeConfig","java.util.Date"],"doc":" 查找现有可合并通知\n"},{"name":"generateBusinessKey","paramTypes":["com.sinosoft.notice.domain.SysNotificationTemplate","com.sinosoft.notice.model.NotificationPayload"],"doc":" 生成业务键\n"},{"name":"createDefaultConfig","paramTypes":["java.lang.String"],"doc":" 创建默认合并配置\n"},{"name":"getNextMergeConfigId","paramTypes":[],"doc":" 获取合并配置ID\n"},{"name":"updateExistingNotification","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotification"],"doc":" 更新现有通知\n"},{"name":"mergeWithCount","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotificationTemplate","com.sinosoft.notice.model.NotificationPayload"],"doc":" 计数合并策略实现\n"},{"name":"mergeAsList","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotificationTemplate","com.sinosoft.notice.model.NotificationPayload","com.sinosoft.notice.domain.SysNotificationMergeConfig"],"doc":" 列表合并策略实现\n"},{"name":"updateMergedTitleAndContent","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotificationTemplate","java.util.Map","com.sinosoft.notice.model.NotificationPayload"],"doc":" 更新合并后的标题和内容\n"},{"name":"updateMergedTitleForList","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotificationTemplate","java.util.Map","com.sinosoft.notice.model.NotificationPayload"],"doc":" 更新列表合并标题\n"},{"name":"findChildNotifications","paramTypes":["com.sinosoft.notice.domain.SysNotification","java.util.List"],"doc":" 查找子通知\n"},{"name":"updateContentForListMerge","paramTypes":["com.sinosoft.notice.domain.SysNotification","java.util.List","com.sinosoft.notice.model.NotificationPayload"],"doc":" 更新列表合并内容\n"},{"name":"updateExpirationDate","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotification"],"doc":" 更新过期时间\n"},{"name":"updateBusinessData","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotification","int"],"doc":" 更新业务数据\n"},{"name":"updateBusinessDataForList","paramTypes":["com.sinosoft.notice.domain.SysNotification","int"],"doc":" 更新列表合并业务数据\n"},{"name":"createMergeDetail","paramTypes":["com.sinosoft.notice.domain.SysNotification","com.sinosoft.notice.domain.SysNotification","int"],"doc":" 创建合并详情记录\n"}],"constructors":[]}